<!DOCTYPE html>
<html>
    <head>
        <%-include("../partials/head.ejs")%>          
    </head>

    <body>
        <%-include("../partials/navbar.ejs", { username })%>

        <div class="text-center">
            <header>
                <h1>Questions</h1>
            </header>
            <a class="btn btn-primary" data-toggle="collapse" href="#question-form" role="button"> 
                Ask a Question
            </a>
            <div class="collapse" id="question-form">
                <div id="card-form" class="card card-body col-sm-6 mx-auto">
                    <form id="q-add" action="/questions/add" method="post"> 
                        <div class="form-group row">                        
                            <label for="title" class="col-sm-2 col-form-label">Title</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="title" name="title">  
                            </div>
                        </div>
                        <div class="form-group row">                        
                            <label for="title" class="col-sm-2 col-form-label">Body</label>
                            <div class="col-sm-10">
                                <textarea class="form-control" id="body" name="body" rows="12"></textarea>
                            </div>
                        </div>
                        <div class="form-group row">                        
                            <label for="title" class="col-sm-2 col-form-label">Tags</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="tags" name="tags">  
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Ask</button>
                    </form>
                </div>
            </div>
        </div>

        <% for (let i = 0; i < questions.length; i++) { %>
            <hr class="col-sm-6">    
            <div class="row text-center">
                <div class="col-sm-3"></div>
                <div id="q-card" class="col-sm-1 card card-body">
                    <div class="row">
                        <%= questions[i].score %>
                    </div>
                    <div class="row">
                        Votes
                    </div>
                    <div class="row">
                        <%= questions[i].answer_count %>
                    </div>
                    <div class="row">
                        Answers
                    </div>
                    <div class="row">
                        <%= questions[i].view_count %> views
                    </div>
                </div>
                <div id="q-card" class="col-sm-5 card card-body">
                    <h3><%= questions[i].title %></h3>
                    <div>User: <%= questions[i].user.username %></div>
                    <div>Title: <%= questions[i].title %></div>
                    <div>Body: <%= questions[i].body %></div>
                    <div>Score: <%= questions[i].score %></div>
                    <div>View Count: <%= questions[i].view_count %></div>
                    <div>Answer Count: <%= questions[i].answer_count %></div>
                    <div>Timestamp: <%= questions[i].timestamp %></div>
                    <div>Tags: <%= questions[i].tags %></div>
                    <div>Media: <%= questions[i].media %></div>
                </div>
            </div>
            <hr class="col-sm-6">
        <% } %>

    </body>   
    
    <%-include("../partials/scripts.ejs")%>   
</html>